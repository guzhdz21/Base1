<app-header-modal titulo="Informacion Asistencia" ruta="home-cabina"></app-header-modal>

<ion-content>
    <ion-item lines="none"> 
        <ion-label class="explicacion ion-text-wrap">Informacion sobre el servicio y asistencia del elemento
        </ion-label>
      </ion-item>
    
      <ion-icon name="document-text" color="primary" class="centrari icono1"></ion-icon>

      <ion-list>

        <ion-item>
            <ion-label color="primary">Numero:</ion-label>
            <ion-label class="margentexto ion-text-wrap">{{guardia.seguridad.numero}}</ion-label>
        </ion-item>

        <ion-item color="light">
            <ion-label color="primary">Nombre:</ion-label>
            <ion-label class="margentexto ion-text-wrap">{{guardia.nombre}}</ion-label>
        </ion-item>

        <ion-item >
            <ion-label color="primary">Supervisor:</ion-label>
            <ion-label class="margentexto ion-text-wrap">{{supervisor}}</ion-label>
        </ion-item>

        <ion-item color="light">
            <ion-label color="primary">Servicio:</ion-label>
            <ion-label class="margentexto ion-text-wrap">{{serviciotText}}</ion-label>
        </ion-item>

        <ion-item *ngIf="guardia.asistencia != null">
            <ion-label color="primary">Hora Asignada:</ion-label>
            <ion-datetime class="margentexto"
                          displayFormat="HH:mm"
                          [value]="horario"
                          readonly="true">
                        </ion-datetime>
        </ion-item>
        
        <ion-item color="light" *ngIf="guardia.asistencia != null">
            <ion-label color="primary">Hora Registrada:</ion-label>
            <ion-datetime class="margentexto"
                          displayFormat="HH:mm"
                          [value]="horario2"
                          readonly="true">
                        </ion-datetime>
        </ion-item>

        <ion-item *ngIf="guardia.asistencia != null">
            <ion-label color="primary">Retardo:</ion-label>
            <ion-label class="margentexto ion-text-wrap" *ngIf="guardia.asistencia.retardo">Si</ion-label>
            <ion-label class="margentexto ion-text-wrap" *ngIf="!guardia.asistencia.retardo">No</ion-label>
        </ion-item>

        <ion-item color="light" *ngIf="guardia.asistencia != null">
            <ion-label color="primary">Validacion:</ion-label>
            <ion-label class="margentexto ion-text-wrap" *ngIf="guardia.asistencia.valido">Validada</ion-label>
            <ion-label class="margentexto ion-text-wrap" *ngIf="!guardia.asistencia.valido">No validada</ion-label>
        </ion-item>
      </ion-list>

      <ion-item lines="none" *ngIf="guardia.asistencia == null">
        <ion-label class="explicacion ion-text-wrap">El elemento no cuenta con asistencia registrada actualmente</ion-label>
      </ion-item>

      <ion-item *ngIf=" guardia.asistencia != null" lines="none">
        <ion-label class="centrar ion-text-wrap textoExtra" *ngIf="guardia.asistencia.valido">
          Asistencia registrada y validada
        </ion-label>
        <ion-label class="centrar ion-text-wrap textoExtra" *ngIf="!guardia.asistencia.valido">
          Asistencia registrada
        </ion-label>
      </ion-item>

      <ion-button class="centrari boton1"
                  (click)="llamar()">
                  Llamar
                  <ion-icon name="call" slot="end"></ion-icon>
                </ion-button>

      <ion-button class="centrari boton1"
                [disabled]="guardia.asistencia != null"
                (click)="registrarAsistencia()">
                Registrar Asistencia
                <ion-icon name="create" slot="end"></ion-icon>
              </ion-button>

      <ion-button class="centrari boton1" 
                  [disabled]="guardia.asistencia == null || guardia.asistencia.valido"
                  (click)="validarAsistencia()">
                  Validar Asistencia
                  <ion-icon name="checkbox" slot="end"></ion-icon>
                </ion-button>
</ion-content>
